<template>
    <div id="fileSearchContainer" :style="cssVars" :class="{error}" class="ignoreForLayout">
        <svg
        viewBox="0 0 495.4633 464.67747"
        version="1.1"
        id="fileSearchSvg"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:svg="http://www.w3.org/2000/svg">
        <defs
            id="defs30" />
        <path
            d="m 366.63114,352.85998 -249.84894,64.339 a 33.03735,33.03735 0 0 1 -40.186828,-23.728 L 1.0344721,100.04374 A 33.03734,33.03734 0 0 1 24.762472,59.85691 L 257.2061,0 l 59.49463,26.63379 73.65843,286.03936 a 33.03734,33.03734 0 0 1 -23.72802,40.18683 z"
            fill="#f2f2f2"
            id="path1" />
        <path
            d="m 27.131462,69.05674 a 23.52653,23.52653 0 0 0 -16.89723,28.61789 l 75.5609,293.42725 a 23.52654,23.52654 0 0 0 28.617898,16.89723 l 249.84894,-64.339 a 23.52654,23.52654 0 0 0 16.89723,-28.61789 l -72.51713,-281.6073 -52.285,-23.40643 z"
            fill="#ffffff"
            id="path2" />
        <path
            d="m 316.06592,28.14746 -38.66749,9.95733 a 10.99077,10.99077 0 0 1 -13.38436,-7.9027 L 256.65973,1.64282 a 0.68692,0.68692 0 0 1 0.944,-0.7991 l 58.56966,26.01073 a 0.68692,0.68692 0 0 1 -0.10747,1.29301 z"
            fill="#f2f2f2"
            id="path3" />
        <path
            d="m 295.72311,278.72807 -113.75273,29.29267 a 5.4953817,5.4953817 0 0 1 -2.74083,-10.64353 l 113.75273,-29.29267 a 5.4953817,5.4953817 0 1 1 2.74083,10.64353 z"
            fill="#cccccc"
            id="path4" />
        <path
            d="m 322.30055,291.03607 -135.705,34.9456 a 5.4953804,5.4953804 0 0 1 -2.74082,-10.64353 l 135.705,-34.94561 a 5.49539,5.49539 0 0 1 2.74084,10.64354 z"
            fill="#cccccc"
            id="path5" />
        <circle
            id="a597741b-ffcf-4aba-98b0-6652ef5d57c9"
            data-name="Ellipse 44"
            cx="135.54303"
            cy="323.87762"
            r="19.423149"
            fill="#e6e6e6" />
        <path
            d="M 283.62792,227.89635 132.55298,266.78544 A 17.01917,17.01917 0 0 1 111.85173,254.56005 L 80.192032,131.56955 a 17.01916,17.01916 0 0 1 12.22538,-20.7012 L 243.49241,71.97926 a 17.01916,17.01916 0 0 1 20.7012,12.22539 l 31.65971,122.9905 a 17.01917,17.01917 0 0 1 -12.2254,20.7012 z"
            fill="#ffffff"
            id="path6" />
        <path
            d="M 283.62792,227.89635 132.55298,266.78544 A 17.01917,17.01917 0 0 1 111.85173,254.56005 L 80.192032,131.56955 a 17.01916,17.01916 0 0 1 12.22538,-20.7012 L 243.49241,71.97926 a 17.01916,17.01916 0 0 1 20.7012,12.22539 l 31.65971,122.9905 a 17.01917,17.01917 0 0 1 -12.2254,20.7012 z M 92.916032,112.8052 a 15.017,15.017 0 0 0 -10.7871,18.26578 l 31.659698,122.9905 a 15.017,15.017 0 0 0 18.26577,10.7871 l 151.075,-38.88908 a 15.017,15.017 0 0 0 10.7871,-18.26578 L 262.25673,84.70322 a 15.017,15.017 0 0 0 -18.26578,-10.7871 z"
            fill="#e6e6e6"
            id="path7" />
        <path
            id="b056fd3f-f1a0-44f0-b006-deff0bee637d-425"
            data-name="Path 411"
            d="m 235.82807,113.33349 -76.24555,19.62681 a 2.73087,2.73087 0 0 1 -3.30848,-1.71854 2.63064,2.63064 0 0 1 1.85283,-3.33925 l 77.61329,-19.97889 c 3.13521,1.58858 2.31023,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="f1ea6668-a825-428d-96fe-a2c4e1b5a672-426"
            data-name="Path 412"
            d="m 239.27073,126.70748 -76.24555,19.62681 a 2.73089,2.73089 0 0 1 -3.30845,-1.71855 2.63065,2.63065 0 0 1 1.85284,-3.33925 l 77.61329,-19.97889 c 3.13521,1.58858 2.31022,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="ee9aa382-a9c9-40d0-8ed3-22ec2dd616d6-427"
            data-name="Path 413"
            d="m 148.50285,158.19191 -23.2694,5.98992 a 2.962,2.962 0 0 1 -3.60325,-2.12795 l -7.06858,-27.45979 a 2.962,2.962 0 0 1 2.12794,-3.60325 l 23.2694,-5.98991 a 2.963,2.963 0 0 1 3.60325,2.12795 l 7.06859,27.45982 a 2.962,2.962 0 0 1 -2.12795,3.60324 z"
            fill="#e6e6e6" />
        <path
            id="be954d2b-d8b8-4d26-80a0-a319e99a4b10-428"
            data-name="Path 414"
            d="m 246.09787,154.14788 -116.36468,29.95411 a 2.73087,2.73087 0 0 1 -3.30847,-1.71854 2.63062,2.63062 0 0 1 1.85284,-3.33925 l 117.73335,-30.30646 c 3.13521,1.58859 2.31022,4.83781 0.087,5.41012 z"
            fill="#f2f2f2" />
        <path
            id="baaae9e4-1b4d-40c2-8a9d-f2abb078b489-429"
            data-name="Path 415"
            d="m 249.54156,167.52574 -116.36469,29.95415 a 2.73086,2.73086 0 0 1 -3.30846,-1.71854 2.63061,2.63061 0 0 1 1.85283,-3.33926 l 117.73335,-30.30643 c 3.13521,1.58858 2.31022,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="a91bf4c9-37f6-4391-92ed-1882bd0ce21c-430"
            data-name="Path 416"
            d="M 252.98299,180.89492 136.6183,210.84904 a 2.73086,2.73086 0 0 1 -3.30846,-1.71854 2.63061,2.63061 0 0 1 1.85283,-3.33926 l 117.73335,-30.30643 c 3.13521,1.58858 2.31023,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="efb98e07-468b-4c85-9a64-ee4cc5493d6f-431"
            data-name="Path 417"
            d="m 256.42641,194.27182 -116.36468,29.95412 a 2.73087,2.73087 0 0 1 -3.30847,-1.71854 2.63063,2.63063 0 0 1 1.85284,-3.33926 l 117.73335,-30.3064 c 3.13521,1.58858 2.31022,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="aeb1db98-32e5-40b8-ab89-fdad6a3263dc-432"
            data-name="Path 418"
            d="M 259.8681,207.64198 143.50342,237.5961 a 2.73088,2.73088 0 0 1 -3.30847,-1.71855 2.63062,2.63062 0 0 1 1.85284,-3.33925 l 117.73335,-30.30643 c 3.13521,1.58858 2.31022,4.83781 0.087,5.41011 z"
            fill="#f2f2f2" />
        <path
            id="be265de5-288f-49a7-867d-c42e7cdbf4db-433"
            data-name="Path 395"
            d="m 136.97601,330.68609 a 2.01449,2.01449 0 0 1 -1.27407,-0.0878 l -0.0251,-0.0103 -5.29126,-2.24319 a 2.02852,2.02852 0 1 1 1.58747,-3.73356 l 3.42865,1.45835 4.49293,-10.56929 a 2.02766,2.02766 0 0 1 2.65942,-1.07259 l 6.8e-4,2.8e-4 -0.027,0.0691 0.0281,-0.0694 a 2.03011,2.03011 0 0 1 1.0723,2.66008 l -5.28586,12.42716 a 2.02886,2.02886 0 0 1 -1.36522,1.16845 z"
            fill="#ffffff" />
        <path
            d="m 462.4633,464.67749 h -258 a 33.03734,33.03734 0 0 1 -33,-33 v -303 a 33.03734,33.03734 0 0 1 33,-33 h 240.02685 l 50.97315,40.62891 v 295.37109 a 33.03734,33.03734 0 0 1 -33,33 z"
            fill="#e6e6e6"
            id="path8" />
        <path
            d="m 204.46319,105.17749 a 23.52654,23.52654 0 0 0 -23.5,23.5 v 303 a 23.52653,23.52653 0 0 0 23.5,23.5 h 258 a 23.52653,23.52653 0 0 0 23.5,-23.5 V 140.88306 l -44.79614,-35.70557 z"
            fill="#ffffff"
            id="path9" />
        <path
            d="M 412.28229,193.28174 H 294.8185 a 5.49538,5.49538 0 0 1 0,-10.99076 h 117.46379 a 5.49538,5.49538 0 1 1 0,10.99076 z"
            fill="var(--file1-circle)"
            class="transition"
            id="file1-line-1" />
        <path
            d="M 434.95073,211.82868 H 294.8185 a 5.49539,5.49539 0 0 1 0,-10.99077 h 140.13223 a 5.49539,5.49539 0 1 1 0,10.99077 z"
            fill="var(--file1-circle)"
            class="transition"
            id="file1-line-2" />
        <path
            d="m 412.28298,265.40551 h -117.46 a 5.495,5.495 0 1 0 0,10.99 h 117.46 a 5.495,5.495 0 0 0 0,-10.99 z"
            fill="var(--file2-circle)"
            class="transition"
            id="file2-line-1" />
        <path
            d="M 434.9529,283.95555 H 294.82302 a 5.495,5.495 0 1 0 0,10.99 H 434.9529 a 5.495,5.495 0 0 0 0,-10.99 z"
            fill="var(--file2-circle)"
            class="transition"
            id="file2-line-2" />
        <path
            d="M 412.28229,359.51707 H 294.8185 a 5.49538,5.49538 0 0 1 0,-10.99076 h 117.46379 a 5.49538,5.49538 0 1 1 0,10.99076 z"
            fill="var(--file3-circle)"
            class="transition"
            id="file3-line-1" />
        <path
            d="M 434.95073,378.06399 H 294.8185 a 5.49539,5.49539 0 0 1 0,-10.99077 h 140.13223 a 5.49539,5.49539 0 1 1 0,10.99077 z"
            fill="var(--file3-circle)"
            class="transition"
            id="file3-line-2" />
        <circle
            data-name="Ellipse 44"
            cx="245.90361"
            cy="197.05983"
            r="19.423149"
            class="transition"
            id="file1-circle"
            fill="var(--file1-circle)" />
        <path
            data-name="Path 395"
            d="m 243.97888,204.46919 a 2.0144,2.0144 0 0 1 -1.21191,-0.40277 l -0.0217,-0.0163 -4.5647,-3.49185 a 2.02852,2.02852 0 1 1 2.46838,-3.21972 l 2.95665,2.26729 6.98671,-9.11494 a 2.02767,2.02767 0 0 1 2.84288,-0.3755 l 5.8e-4,4.4e-4 -0.0434,0.0602 0.0445,-0.0602 a 2.03011,2.03011 0 0 1 0.37507,2.84345 l -8.2179,10.71637 a 2.02892,2.02892 0 0 1 -1.61348,0.79109 z"
            class="transition"
            id="file1-check"
            fill="var(--file1-check)" />
        <circle
            data-name="Ellipse 44"
            cx="248.02315"
            cy="280.22314"
            r="19.423149"
            class="transition"
            id="file2-circle"
            fill="var(--file2-circle)" />
        <path
            data-name="Path 395"
            d="m 246.0984,287.6325 a 2.0144,2.0144 0 0 1 -1.21191,-0.40277 l -0.0217,-0.0163 -4.5647,-3.49185 a 2.02852,2.02852 0 1 1 2.46838,-3.21972 l 2.95665,2.26729 6.98671,-9.11494 a 2.02767,2.02767 0 0 1 2.84288,-0.3755 l 5.8e-4,4.4e-4 -0.0434,0.0602 0.0445,-0.0602 a 2.03011,2.03011 0 0 1 0.37507,2.84345 l -8.2179,10.71637 a 2.02892,2.02892 0 0 1 -1.61348,0.79109 z"
            class="transition"
            id="file2-check"
            fill="var(--file2-check)" />
        <circle
            data-name="Ellipse 44"
            cx="246.02315"
            cy="363.42316"
            r="19.423149"
            class="transition"
            id="file3-circle"
            fill="var(--file3-circle)" />
        <path
            data-name="Path 395"
            d="m 244.09836,370.83239 a 2.0144,2.0144 0 0 1 -1.21191,-0.40277 l -0.0217,-0.0163 -4.5647,-3.49185 a 2.02852,2.02852 0 1 1 2.46838,-3.21972 l 2.95665,2.26729 6.98671,-9.11494 a 2.02767,2.02767 0 0 1 2.84288,-0.3755 l 5.8e-4,4.4e-4 -0.0434,0.0602 0.0445,-0.0602 a 2.03011,2.03011 0 0 1 0.37507,2.84345 l -8.2179,10.71637 a 2.02892,2.02892 0 0 1 -1.61348,0.79109 z"
            class="transition"
            id="file3-check"
            fill="var(--file3-check)" />
        <path
            d="m 494.47107,137.61395 h -39.929 a 10.99077,10.99077 0 0 1 -10.99076,-10.99077 v -29.491 a 0.68692,0.68692 0 0 1 1.11347,-0.53844 l 50.23281,39.79483 a 0.68692,0.68692 0 0 1 -0.42652,1.22538 z"
            fill="#cccccc"
            id="path17" />
        <g
            id="searchIcon"
            transform="translate(247, 232)">
            <g
                id="g30"
                transform="matrix(0.21913009,0,0,0.21913009,-42.992947,-41.722898) scale(2)">
                <path
                    d="m 468.75556,401.17357 a 8.564186,8.564186 0 0 1 -11.77082,2.85167 l -99.92033,-60.94755 a 8.5640038,8.5640038 0 0 1 8.91916,-14.62249 l 99.92032,60.94755 a 8.5642002,8.5642002 0 0 1 2.85167,11.77082 z"
                    fill="#3f3d56"
                    id="path21"
                    style="stroke-width:1.42733" />
                <path
                    d="m 368.83523,340.22602 a 68.512003,68.512003 0 1 1 -22.81333,-94.16655 68.589593,68.589593 0 0 1 22.81333,94.16655 z m -102.3574,-62.43407 a 51.384002,51.384002 0 1 0 70.62492,-17.10999 51.442109,51.442109 0 0 0 -70.62492,17.10999 z"
                    fill="#3f3d56"
                    id="path22"
                    style="stroke-width:1.42733" />
                </g>
            </g>
        </svg>
    </div>
</template>

<script>
export default {
    name: "FileSearch",
    props: {
        progress: {
            type: Number,
            default: 0,
        },
        error: {
            type: Boolean,
            default: false,
        }
    },
    computed: {
        cssVars() {
            if(!this.error) {
                var circleFillColor = "#6c63ffff";
                var checkFillColor = "#ffffff";
            } else {
                var circleFillColor = "#f44336";
                var checkFillColor = "#f44336";
            }
            
            let vars = {
                "--file1-circle": "#cccccc",
                "--file1-check": "#cccccc",
                "--file2-circle": "#cccccc",
                "--file2-check": "#cccccc",
                "--file3-circle": "#cccccc",
                "--file3-check": "#cccccc",
            }

            if(this.progress >= 33) {
                vars["--file1-circle"] = circleFillColor;
                vars["--file1-check"] = checkFillColor;
            }
            if(this.progress >= 66) {
                vars["--file2-circle"] = circleFillColor;
                vars["--file2-check"] = checkFillColor;
            }
            if(this.progress >= 100) {
                vars["--file3-circle"] = circleFillColor;
                vars["--file3-check"] = checkFillColor;
            }

            return vars;
        }
    }
}
</script>

<style scoped>
    .transition {
        transition: fill .4s ease;
    }
    #file1-circle, #file1-line-1, #file1-line-2 {
        fill: var(--file1-circle);
    }
    #file2-circle, #file2-line-1, #file2-line-2 {
        fill: var(--file2-circle);
    }
    #file3-circle, #file3-line-1, #file3-line-2 {
        fill: var(--file3-circle);
    }
    #file1-check {
        fill: var(--file1-check);
    }
    #file2-check {
        fill: var(--file2-check);
    }
    #file3-check {
        fill: var(--file3-check);
    }

    @keyframes circleAnimation{
        0%{
            transform: rotate(0deg) translate(-50px) rotate(0deg) translateX(247px) translateY(232px);
        
        }
        100%{
            transform: rotate(360deg) translate(-50px) rotate(-360deg) translateX(247px) translateY(232px);
        }
    }

    #searchIcon {
        animation: circleAnimation 6s linear infinite;
    }
    #fileSearchContainer.error #searchIcon {
        display: none;
    }
</style>